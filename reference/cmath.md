#cmath
* cmath[meta header]

`<cmath>`ヘッダでは、一般的な数学関数および各種マクロを提供する。基本的には、標準 C ライブラリの `<math.h>` に準拠しているが、いくつかの変更点がある。

- C++03 までの場合、C90 に対して以下ように変更されている。
	- 各関数は std 名前空間に定義されている。
	- `fabs` と同等の関数 `abs` を追加している。
	- `pow` の第 2 引数が `int` のオーバーロードを追加している。
	- 各関数（上記 2 関数を含む）に対して、引数および戻り値の `double` に対応する箇所が `float` および `long double` になっているオーバーロードバージョンを追加している。
- C++11 からの場合、C99 に対して以下のように変更されている。
	- 各関数は std 名前空間に定義されている。
	- `fabs` と同等の関数 `abs` を追加している。
	- 引数に `double` を含む各関数（上記 `abs` を含む）に対して、引数および戻り値の `double` に対応する箇所が `float` と `long double` のオーバーロードバージョンを追加している。  
		なお、C99 にも同様の関数（接尾辞が `f` および `l` のもの）が存在するが、それらについては規格書では言及されていない。  
		ただし、`nan` については、引数の型では区別がつかないため、C99 の `nanf` および `nanl` をそのまま使用する。
	- 数値分類、および、数値比較の各マクロの替わりに、引数が各浮動小数点型で、戻り値が `bool` の関数を追加している。
	- 上記に加えて、以下のようなオーバーロード解決ができるように、更にオーバーロードを追加している。

		1. `double` 型の仮引数に対応する実引数のいずれかが `long double` である場合、`double` 型の仮引数に対応する全ての実引数を `long double` にキャストしてからオーバーロード解決を行う。
		2. 上記以外で、`double` 型の仮引数に対応する実引数のいずれかが `double` 型または整数型である場合、`double` 型の仮引数に対応する全ての実引数を `double` にキャストしてからオーバーロード解決を行う。
		3. 上記以外の場合、`double` 型の仮引数に対応する全ての実引数を `float` にキャストしてからオーバーロード解決を行う。

		これらの規則は、C99 で導入された <tgmath.h> の type-generic マクロとほぼ同等であるが、以下の点が異なる。

		- C99 では `modf` は type-generic マクロの対象ではないが、C++11 ではオーバーロード解決の対象である。
		- C99 では列挙型も整数型とみなされるが、C++11 では列挙型は（スコープ付き・スコープ無し共に）整数型とはみなされない。  
		- C++ のクラス型は変換演算子を持つことができるため、実引数の型が変換演算子を持つクラス型の場合も上記に従ってオーバーロード解決が行われる。  

		しかし、上記のオーバーロード解決の規則に厳密に従うと、列挙型や変換演算子を持つクラス型の引数が `float` と同等の扱いになってしまう。  
		このため、上記に記載のある無条件の「キャスト」は、C++14 ではその対象が「算術型」のみに限られることになり、列挙型や変換演算子を持つクラス型は上記の「キャスト」の対象とはならなくなった。  
		（もちろん、オーバーロード解決の後の暗黙の変換は依然として有効であるため、スコープ無し列挙型や `explicit` でない変換演算子を持つクラス型は、明示的なキャスト無しで実引数になり得る。）  
		なお、C++11 の記載にある無条件のキャストは規格のバグとされたため、C++11 であってもスコープ付き列挙型や explicit な変換演算子のあるクラス型に、上記規則にある無条件のキャストが適用されると想定すべきではない。  
		（[LWG 2086. Overly generic type support for math functions](http://cplusplus.github.io/LWG/lwg-defects.html#2086) 参照）

		各関数の個別ページでは、上記のオーバーロード関数をコードで示す際には、引数や返値の型を斜体で示す。
		```cpp
  Integral      // 任意の整数型
  Arithmetic    // 任意の算術型
  Promoted      // 決定された返値型
```
* Integral[italic]
* Arithmetic[italic]
* Promoted[italic]

		複数の引数がある場合には、数字のサフィックスで区別する。
		例を以下に示す。
		```cpp
  double atan(Integral x);

  Promoted atan2(Arithmetic1 y, Arithmetic2 x);
```
* Integral[italic]
* Arithmetic1[italic]
* Arithmetic2[italic]
* Promoted[italic]


##三角関数

| 名前 | 説明 | 対応バージョン |
|-----------------------------|----------------------------------------------|-------|
| [`sin`](cmath/sin.md)     | 正弦関数（サイン） | |
| [`cos`](cmath/cos.md)     | 余弦関数（コサイン） | |
| [`tan`](cmath/tan.md)     | 正接関数（タンジェント） | |
| [`asin`](cmath/asin.md)   | 逆正弦関数（アークサイン） | |
| [`acos`](cmath/acos.md)   | 逆余弦関数（アークコサイン） | |
| [`atan`](cmath/atan.md)   | 逆正接関数（アークタンジェント） | |
| [`atan2`](cmath/atan2.md) | 対辺と隣辺からの逆正接関数（アークタンジェント） | |

##双曲線関数

| 名前 | 説明 | 対応バージョン |
|-----------------------------|----------------------------------------------|-------|
| [`sinh`](cmath/sinh.md)   | 双曲線正弦関数（ハイパボリックサイン） | |
| [`cosh`](cmath/cosh.md)   | 双曲線余弦関数（ハイパボリックコサイン） | |
| [`tanh`](cmath/tanh.md)   | 双曲線正接関数（ハイパボリックタンジェント） | |
| [`asinh`](cmath/asinh.md) | 逆双曲線正弦関数（アークハイパボリックサイン）       | C++11 |
| [`acosh`](cmath/acosh.md) | 逆双曲線余弦関数（アークハイパボリックコサイン）     | C++11 |
| [`atanh`](cmath/atanh.md) | 逆双曲線正接関数（アークハイパボリックタンジェント） | C++11 |


##指数関数と対数関数

| 名前 | 説明 | 対応バージョン |
|-----------------------------|-----------------------------------|-------|
| [`exp`](cmath/exp.md)     | e (ネイピア数) を底とする指数関数 | |
| [`exp2`](cmath/exp2.md)   | 2 を底とする指数関数 | C++11 |
| [`expm1`](cmath/expm1.md) | e (ネイピア数) を底とする指数関数から 1 を引いた値 | C++11 |
| [`log`](cmath/log.md)     | e (ネイピア数) を底とする自然対数 | |
| [`log10`](cmath/log10.md) | 10 を底とする常用対数 | |
| [`log1p`](cmath/log1p.md) | 引数に 1 を足した値の、e (ネイピア数) を底とする自然対数 | C++11 |
| [`log2`](cmath/log2.md)   | 2 を底とする二進対数 | C++11 |


##仮数と指数

| 名前 | 説明 | 対応バージョン |
|-----------|----------------------------------|-------|
| `ldexp`   | 2 の累乗との乗算                 | |
| `frexp`   | 仮数部と 2 の累乗への分解        | |
| `ilogb`   | 指数部を符号付き整数値として抽出 | C++11 |
| `logb`    | 指数部を浮動小数点数値として抽出 | C++11 |
| [`modf`](cmath/modf.md)    | 整数部と小数部への分解           | |
| `scalbn`  | 内部表現の基数 (`FLT_RADIX`) の累乗との乗算 | C++11 |
| `scalbln` | 内部表現の基数 (`FLT_RADIX`) の累乗との乗算 | C++11 |


##累乗・冪根と絶対値

| 名前 | 説明 | 対応バージョン |
|-----------------------------|----------------|-------|
| [`pow`](cmath/pow.md)     | 累乗           | |
| [`sqrt`](cmath/sqrt.md)   | 平方根         | |
| [`cbrt`](cmath/cbrt.md)   | 立方根         | C++11 |
| [`hypot`](cmath/hypot.md) | 平方和の平方根 | C++11 |
| [`abs`](cmath/abs.md)     | 絶対値         | |
| [`fabs`](cmath/fabs.md)   | 絶対値         | |


##誤差関数とガンマ関数

| 名前 | 説明 | 対応バージョン |
|----------|----------------------|-------|
| `erf`    | 誤差関数             | C++11 |
| `erfc`   | 相補誤差関数         | C++11 |
| `tgamma` | ガンマ関数           | C++11 |
| `lgamma` | ガンマ関数の自然対数 | C++11 |


##最近傍整数

| 名前                              | 説明                                         | 対応バージョン |
|-----------------------------------|----------------------------------------------|----------------|
| [`ceil`](cmath/ceil.md)           | 天井関数（引数より小さくない最近傍の整数）   |                |
| [`floor`](cmath/floor.md)         | 床関数（引数より大きくない最近傍の整数）     |                |
| [`trunc`](cmath/trunc.md)         | ゼロ方向への丸め                             | C++11          |
| [`round`](cmath/round.md)         | 四捨五入による丸め                           | C++11          |
| `lround`                          | `long` 型への四捨五入による丸め              | C++11          |
| `llround`                         | `long long` 型への四捨五入による丸め         | C++11          |
| [`nearbyint`](cmath/nearbyint.md) | 現在の丸めモードによる丸め                   | C++11          |
| [`rint`](cmath/rint.md)           | 現在の丸めモードによる丸め                   | C++11          |
| [`lrint`](cmath/lrint.md)         | `long` 型への現在の丸めモードによる丸め      | C++11          |
| [`llrint`](cmath/llrint.md)       | `long long` 型への現在の丸めモードによる丸め | C++11          |


##剰余

| 名前 | 説明 | 対応バージョン |
|-------------|--------------------------|-------|
| `fmod`      | 浮動小数点剰余           | |
| `remainder` | 符号付きの浮動小数点剰余 | C++11 |
| `remquo`    | 商と浮動小数点剰余       | C++11 |


##浮動小数点操作

| 名前 | 説明 | 対応バージョン |
|--------------|-------------------------------|-------|
| [`copysign`](cmath/copysign.md)   | 符号のコピー                  | C++11 |
| `nan`        | 文字列から quiet NaN への変換 | C++11 |
| `nanf`       | 文字列から quiet NaN への変換 | C++11 |
| `nanl`       | 文字列から quiet NaN への変換 | C++11 |
| `nextafter`  | 指定方向への次の表現可能な値  | C++11 |
| `nexttoward` | 指定方向への次の表現可能な値  | C++11 |


##最大値・最小値と正の差

| 名前 | 説明 | 対応バージョン |
|--------|--------|-------|
| `fmax` | 最大値 | C++11 |
| `fmin` | 最小値 | C++11 |
| `fdim` | 正の差 | C++11 |


##乗算-加算

| 名前 | 説明 | 対応バージョン |
|-------------------------|------------------|-------|
| [`fma`](cmath/fma.md) | 乗算と加算の合成 | C++11 |


##数値分類

| 名前 | 説明 | 対応バージョン |
|--------------|------------------|-------|
| [`fpclassify`](cmath/fpclassify.md) | 数値を NaN、無限大、正規化数、非正規化数、0 または他の処理系定義のカテゴリに分類 | C++11 |
| `isfinite`   | 数値が有限であるか判定      | C++11 |
| [`isinf`](cmath/isinf.md)      | 数値が無限大であるか判定    | C++11 |
| [`isnan`](cmath/isnan.md)      | 数値が NaN であるか判定     | C++11 |
| `isnormal`   | 数値が正規化数であるか判定  | C++11 |
| `signbit`    | 数値の符号が負であるか判定  | C++11 |


##数値比較

| 名前             | 説明                                                   | 対応バージョン |
|------------------|--------------------------------------------------------|----------------|
| `isgreater`      | 第 1 引数が第 2 引数より大きいか判定                   | C++11          |
| `isgreaterequal` | 第 1 引数が第 2 引数以上か判定                         | C++11          |
| `isless`         | 第 1 引数が第 2 引数より小さいか判定                   | C++11          |
| `islessequal`    | 第 1 引数が第 2 引数以下か判定                         | C++11          |
| `islessgreater`  | 第 1 引数が第 2 引数より小さいか、あるいは大きいか判定 | C++11          |
| `isunordered`    | 第 1 引数と第 2 引数が順序付けられていないか判定       | C++11          |


##型

| 名前 | 説明 | 対応バージョン |
|-----------------------------------|-------------------------------|-------|
| [`float_t`](cmath/float_t.md)   | `float` 以上の浮動小数点数型  | C++11 |
| [`double_t`](cmath/double_t.md) | `double` 以上の浮動小数点数型 | C++11 |


##数値のマクロ

| 名前 | 説明 | 対応バージョン |
|-------------------------------------|------------------------------|-------|
| [`HUGE_VAL`](cmath/huge_val.md)   | `double` 型の正の巨大値      | |
| [`HUGE_VALF`](cmath/huge_valf.md) | `float` 型の正の巨大値       | C++11 |
| [`HUGE_VALL`](cmath/huge_vall.md) | `long double` 型の正の巨大値 | C++11 |
| [`INFINITY`](cmath/infinity.md)   | `float` 型の正の無限大       | C++11 |
| [`NAN`](cmath/nan.md)             | `float` 型の `quiet NaN`     | C++11 |


##数値分類のマクロ

| 名前 | 説明 | 対応バージョン |
|-------------------------------------------|---------------------------------------------|-------|
| [`FP_INFINITE`](cmath/fp_infinite.md)   | 数値分類で無限大を表す整数定数式            | C++11 |
| [`FP_NAN`](cmath/fp_nan.md)             | 数値分類で `NaN` を表す整数定数式           | C++11 |
| [`FP_NORMAL`](cmath/fp_normal.md)       | 数値分類で正規化数を表す整数定数式          | C++11 |
| [`FP_SUBNORMAL`](cmath/fp_subnormal.md) | 数値分類で非正規化数を表す整数定数式        | C++11 |
| [`FP_ZERO`](cmath/fp_zero.md)           | 数値分類で浮動小数点数の 0 を表す整数定数式 | C++11 |


##その他のマクロ

| 名前 | 説明 | 対応バージョン |
|-------------------------------------------|---------------------------------------------|-------|
| [`FP_FAST_FMA`](cmath/fp_fast_fma.md)   | `double` 型の `fma` 関数がより高速な実装であるか | C++11 |
| [`FP_FAST_FMAF`](cmath/fp_fast_fmaf.md) | `float` 型の `fma` 関数がより高速な実装であるか  | C++11 |
| [`FP_FAST_FMAL`](cmath/fp_fast_fmal.md) | `long double` 型の `fma` 関数がより高速な実装であるか | C++11 |
| [`FP_ILOGB0`](cmath/fp_ilogb0.md)       | `ilogb(0)` の返値を表す整数定数式 | C++11 |
| [`FP_ILOGBNAN`](cmath/fp_ilogbnan.md)   | `ilogb(NaN)` の返値を表す整数定数式 | C++11 |
| `MATH_ERRNO`                              | 整数定数 1 | C++11 |
| `MATH_ERREXCEPT`                          | 整数定数 2 | C++11 |
| [`math_errhandling`](cmath/math_errhandling.md) | `<cmath>` 内の関数がエラーをどのように取り扱うかを表すマクロ | C++11 |


##参照
- [N1568 Proposed additions to TR-1 to improve compatibility with C99](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2004/n1568.htm)

